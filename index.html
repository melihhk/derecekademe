<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Ã–ÄŸrenim â€“ Derece Kademe Oyunu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; }

    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background: radial-gradient(circle at top, #020617 0%, #020617 45%, #000 100%);
      color: #e5e7eb;
    }

    .app {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .card {
      width: 100%;
      max-width: 480px;
      background: rgba(15, 23, 42, 0.92);
      border-radius: 18px;
      padding: 20px 18px 18px;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.25);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .title {
      font-size: 16px;
      font-weight: 600;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      color: #94a3b8;
    }

    .score {
      font-size: 14px;
      color: #a5b4fc;
    }

    .question-box {
      margin-top: 4px;
      padding: 12px 12px;
      border-radius: 14px;
      background: radial-gradient(circle at top left, #1d293b 0, #020617 55%);
      border: 1px solid rgba(148, 163, 184, 0.3);
      position: relative;
      overflow: hidden;
    }

    .question-text {
      font-size: 15px;
      line-height: 1.4;
      font-weight: 500;
      color: #e5e7eb;
      animation: floatIn 380ms ease-out;
    }

    @keyframes floatIn {
      from {
        opacity: 0;
        transform: translateY(6px) scale(.98);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .question-tag {
      position: absolute;
      top: 8px;
      right: 10px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: .08em;
      color: #6366f1;
      opacity: 0.8;
    }

    .controls {
      margin-top: 18px;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .wheel-group {
      background: radial-gradient(circle at top, #020617 0, #020617 45%, #0b1120 100%);
      border-radius: 14px;
      padding: 10px;
      border: 1px solid rgba(30, 64, 175, 0.7);
      box-shadow: inset 0 0 0 1px rgba(15, 23, 42, 0.8);
    }

    .wheel-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9ca3af;
      margin-bottom: 6px;
    }

    .wheel {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .wheel-btn {
      width: 32px;
      height: 40px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at top, #1f2937, #020617);
      color: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease, background 0.12s ease;
    }

    .wheel-btn:active {
      transform: scale(0.96) translateY(1px);
      box-shadow: 0 0 0 1px #6366f1;
      border-color: #6366f1;
      background: radial-gradient(circle at top, #111827, #020617);
    }

    .wheel-value {
      min-width: 40px;
      text-align: center;
      font-variant-numeric: tabular-nums;
      font-size: 22px;
      font-weight: 600;
      padding: 6px 0;
      border-radius: 12px;
      background: linear-gradient(180deg, #020617, #020617 55%, #020617);
      color: #e5e7eb;
      box-shadow:
        inset 0 1px 0 rgba(255, 255, 255, 0.03),
        0 0 0 1px rgba(15, 23, 42, 0.9);
    }

    .actions {
      margin-top: 18px;
      display: flex;
      gap: 10px;
    }

    .btn-primary {
      flex: 1;
      border: none;
      border-radius: 999px;
      padding: 12px 14px;
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      cursor: pointer;
      background: linear-gradient(135deg, #6366f1, #22d3ee);
      color: #020617;
      box-shadow: 0 14px 30px rgba(79, 70, 229, 0.55);
      transition: transform 0.14s ease, box-shadow 0.14s ease, filter 0.14s ease;
    }

    .btn-primary:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 6px 16px rgba(79, 70, 229, 0.45);
      filter: brightness(0.96);
    }

    .status {
      margin-top: 10px;
      min-height: 20px;
      font-size: 13px;
      color: #9ca3af;
    }

    .status.ok {
      color: #4ade80;
    }

    .status.err {
      color: #f97373;
    }

    /* Tam ekran kÃ¼fÃ¼r overlay (hareketsiz) */
    .rage-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at center, rgba(15, 23, 42, 0.95) 0, rgba(0, 0, 0, 0.98) 60%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      z-index: 999;
      opacity: 0;
      pointer-events: none;
      transform: scale(1.05);
      transition: opacity .18s ease-out, transform .18s ease-out;
    }

    .rage-overlay.show {
      opacity: 1;
      pointer-events: auto;
      transform: scale(1);
    }

    .rage-text {
      max-width: 520px;
      text-align: center;
      font-size: 20px;
      line-height: 1.5;
      font-weight: 700;
      color: #f97373;
      text-shadow: 0 0 22px rgba(248, 113, 113, 0.9);
    }

    @media (max-width: 480px) {
      .card {
        padding: 18px 14px 16px;
        border-radius: 16px;
      }

      .question-text {
        font-size: 14px;
      }

      .rage-text {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <div class="header">
        <div class="title">Ã–ÄŸrenim â€“ GiriÅŸ Derece / Kademe</div>
        <div class="score">Skor: <span id="score">0</span></div>
      </div>

      <div class="question-box">
        <div class="question-tag">Soru</div>
        <div id="questionText" class="question-text">
          YÃ¼kleniyor...
        </div>
      </div>

      <div class="controls">
        <div class="wheel-group">
          <div class="wheel-label">Derece</div>
          <div class="wheel">
            <button class="wheel-btn" data-type="degree" data-dir="-1">â€“</button>
            <div id="degreeValue" class="wheel-value">15</div>
            <button class="wheel-btn" data-type="degree" data-dir="1">+</button>
          </div>
        </div>

        <div class="wheel-group">
          <div class="wheel-label">Kademe</div>
          <div class="wheel">
            <button class="wheel-btn" data-type="step" data-dir="-1">â€“</button>
            <div id="stepValue" class="wheel-value">1</div>
            <button class="wheel-btn" data-type="step" data-dir="1">+</button>
          </div>
        </div>
      </div>

      <div class="actions">
        <button id="checkBtn" class="btn-primary">CevabÄ± Kontrol Et</button>
      </div>

      <div id="status" class="status"></div>
    </div>
  </div>

  <!-- YanlÄ±ÅŸ cevap mesajÄ± â€“ 3 saniye boyunca, hareketsiz -->
  <div id="rageOverlay" class="rage-overlay">
    <div class="rage-text">
      Senin yapacaÄŸÄ±n sorunun tah anasÄ±nÄ± sikeyim, aynÄ± soruyu 3. soru sonra tekrar soracaÄŸÄ±m
    </div>
  </div>

  <script>
    const questions = [
      {
        text: "Ä°lkokulu bitiren bir memurun giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 15,
        step: 1
      },
      {
        text: "Ortaokulu bitiren bir memurun giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 14,
        step: 2
      },
      {
        text: "Ortaokul dengi mesleki veya teknik Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 14,
        step: 3
      },
      {
        text: "Ortaokul Ã¼stÃ¼ 1 yÄ±l mesleki veya teknik Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 13,
        step: 1
      },
      {
        text: "Ortaokul Ã¼stÃ¼ 2 yÄ±l mesleki veya teknik Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 13,
        step: 2
      },
      {
        text: "Lise veya dengi okullarÄ± bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 13,
        step: 3
      },
      {
        text: "Lise dengi mesleki veya teknik Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 12,
        step: 2
      },
      {
        text: "Lise veya dengi okullar Ã¼stÃ¼ 1 yÄ±llÄ±k mesleki veya teknik Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 11,
        step: 1
      },
      {
        text: "Lise veya dengi okullar Ã¼stÃ¼ 2 yÄ±l veya ortaokul Ã¼stÃ¼ en az 5 yÄ±llÄ±k mesleki veya teknik Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 10,
        step: 1
      },
      {
        text: "Lise veya dengi okullar Ã¼stÃ¼ 3 yÄ±l teknik veya mesleki Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 10,
        step: 2
      },
      {
        text: "2 yÄ±l sÃ¼reli yÃ¼ksek Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 10,
        step: 2
      },
      {
        text: "3 yÄ±l sÃ¼reli yÃ¼ksek Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 10,
        step: 3
      },
      {
        text: "4 yÄ±l sÃ¼reli yÃ¼ksek Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 9,
        step: 1
      },
      {
        text: "5 yÄ±l sÃ¼reli yÃ¼ksek Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 9,
        step: 2
      },
      {
        text: "6 yÄ±l sÃ¼reli yÃ¼ksek Ã¶ÄŸrenimi bitirenlerin giriÅŸ derece ve kademesi kaÃ§tÄ±r?",
        degree: 9,
        step: 3
      }
    ];

    const degreeMin = 9;
    const degreeMax = 15;
    const stepMin = 1;
    const stepMax = 3;

    const questionEl = document.getElementById("questionText");
    const degreeEl = document.getElementById("degreeValue");
    const stepEl = document.getElementById("stepValue");
    const statusEl = document.getElementById("status");
    const scoreEl = document.getElementById("score");
    const rageOverlay = document.getElementById("rageOverlay");
    const checkBtn = document.getElementById("checkBtn");

    let currentIndex = 0;
    let score = 0;

    // YanlÄ±ÅŸ sorularÄ± 3 soru sonra tekrar sormak iÃ§in kuyruk
    // { idx: questionIndex, counter: kaÃ§ soru sonra }
    const wrongQueue = [];

    function pickRandomIndex() {
      return Math.floor(Math.random() * questions.length);
    }

    function loadQuestion(idx) {
      currentIndex = idx;
      const q = questions[idx];
      questionEl.textContent = q.text;
      questionEl.classList.remove("anim");
      void questionEl.offsetWidth; // animasyonu tetiklemek iÃ§in
      questionEl.classList.add("anim");
      statusEl.textContent = "";
      statusEl.className = "status";
    }

    function nextQuestion() {
      // kuyruktaki sayaÃ§larÄ± azalt
      wrongQueue.forEach(item => item.counter--);

      // zamanÄ± gelen yanlÄ±ÅŸ soru var mÄ±?
      const dueIndex = wrongQueue.findIndex(item => item.counter <= 0);
      if (dueIndex !== -1) {
        const item = wrongQueue.splice(dueIndex, 1)[0];
        loadQuestion(item.idx);
        return;
      }

      // yoksa rastgele soru
      let idx = pickRandomIndex();
      loadQuestion(idx);
    }

    function setWheelValue(type, delta) {
      if (type === "degree") {
        let val = parseInt(degreeEl.textContent, 10) + delta;
        if (val < degreeMin) val = degreeMax;
        if (val > degreeMax) val = degreeMin;
        degreeEl.textContent = val;
      } else {
        let val = parseInt(stepEl.textContent, 10) + delta;
        if (val < stepMin) val = stepMax;
        if (val > stepMax) val = stepMin;
        stepEl.textContent = val;
      }
    }

    document.querySelectorAll(".wheel-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const type = btn.getAttribute("data-type");
        const dir = parseInt(btn.getAttribute("data-dir"), 10);
        setWheelValue(type, dir);
      });
    });

    function showRageAndScheduleRetry() {
      // AynÄ± soruyu 3 soru sonra tekrar sor
      const alreadyQueued = wrongQueue.some(item => item.idx === currentIndex);
      if (!alreadyQueued) {
        wrongQueue.push({ idx: currentIndex, counter: 3 });
      }

      rageOverlay.classList.add("show");

      // 3 saniye ekranda kalsÄ±n
      setTimeout(() => {
        rageOverlay.classList.remove("show");
        nextQuestion();
      }, 3000);
    }

    checkBtn.addEventListener("click", () => {
      const selectedDegree = parseInt(degreeEl.textContent, 10);
      const selectedStep = parseInt(stepEl.textContent, 10);
      const q = questions[currentIndex];

      if (selectedDegree === q.degree && selectedStep === q.step) {
        score++;
        scoreEl.textContent = score;
        statusEl.textContent = "DoÄŸru! SÃ¼persin, devam ðŸ’ª";
        statusEl.className = "status ok";

        setTimeout(() => {
          nextQuestion();
        }, 700);
      } else {
        statusEl.textContent = "";
        statusEl.className = "status";
        showRageAndScheduleRetry();
      }
    });

    // ilk soru â€“ baÅŸlangÄ±Ã§ta derece/kademe rastgele
    degreeEl.textContent = 13;
    stepEl.textContent = 1;
    loadQuestion(pickRandomIndex());
  </script>
</body>
</html>
